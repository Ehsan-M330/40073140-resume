<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <link rel="stylesheet" href="styles.css">
  <script src="config.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ุฑุฒููู - Ehsan Moradi</title>
  <style>
    /* RTL specific styles */
    body[dir="rtl"] {
      direction: rtl;
      text-align: right;
    }
    body[dir="rtl"] ul {
      padding-right: 18px;
      padding-left: 0;
    }
    body[dir="rtl"] .form-group {
      text-align: right;
    }
    body[dir="rtl"] input,
    body[dir="rtl"] select,
    body[dir="rtl"] textarea {
      text-align: right;
    }
  </style>
</head>
<body>
  <header>
    <h1>ุงุญุณุงู ูุฑุงุฏ</h1>
    <p>ูููุฏุณ ูุฑูโุงูุฒุงุฑ โ ุจฺฉโุงูุฏ</p>
    <p>ุงูู: <a href="mailto:ehsan.moradi.it@gmail.com">ehsan.moradi.it@gmail.com</a></p>
    <p>ฺฏุชโูุงุจ: <a href="https://github.com/Ehsan-M330">github.com/Ehsan-M330</a></p>
    <p>ุชููู: +98 9354439479</p>
    <div id="online-users" style="margin-top: 10px; padding: 8px 12px; background: rgba(11,95,255,0.1); border-radius: 8px; display: inline-block;">
      <span style="color: var(--accent); font-weight: 600;">๐ฅ ฺฉุงุฑุจุฑุงู ุขููุงู: <span id="online-count">0</span></span>
    </div>
  </header>

  <main>
    <section id="summary">
      <h2>ุฎูุงุตู</h2>
      <p>
        ุฏุงูุดุฌู ุนูุงููโููุฏ ุจู ุชูุณุนู ุจฺฉโุงูุฏ ู ูุจุ ุจุง ุชุฌุฑุจู ุนูู ุฏุฑ ุงุณุชูุงุฏู ุงุฒ FastAPIุ ExpressJS ู Django.
        ฺฉุฏูุง ุชูุฒุ ุณุฑุน ู ูุงุจู ูฺฏูุฏุงุฑ ูโููุณู. ูุดุชุงู ุจู ฺฉุงุฑุจุฑุฏ ููุงุฑุชโูุงู ุฏุฑ ฺุงูุดโูุง ุฏูุง ูุงูุน ู ุงุฏฺฏุฑ ูุฏุงูู ุงุฒ ุชุฌุฑุจู ุนูู.
        ุฏุฑ ุญุงู ุญุงุถุฑ ุฏุฑ ูพุฑูฺูโูุง ุงุณุชูุฏู ุฏุงฺฉู ูุดุงุฑฺฉุช ุฏุงุฑู.
      </p>
    </section>

    <section id="skills">
      <h2>ููุงุฑุชโูุง</h2>
      <ul>
        <li>FastAPI</li>
        <li>Django</li>
        <li>ExpressJS</li>
        <li>Docker</li>
        <li>PostgreSQL</li>
        <li>Redis</li>
        <li>SQLAlchemy</li>
        <li>Alembic</li>
        <li>TypeORM</li>
        <li>RabbitMQ</li>
        <li>TypeScript</li>
        <li>Git</li>
        <li>Linux</li>
      </ul>
    </section>

    <section id="projects">
      <h2>ูพุฑูฺูโูุง ู ุชุฌุฑุจุงุช</h2>

      <article>
        <h3>CHILEX โ ุชูุณุนูโุฏููุฏู ุจฺฉโุงูุฏ (ุงุณุชูุฏู ุฏุงฺฉู)</h3>
        <ul>
          <li>ุงูุชูุงู ุฏุชุงุจุณ ุงุฒ MySQL ุจู PostgreSQL ุจุฑุง ุจูุจูุฏ ุนููฺฉุฑุฏ ู ููุงุณโูพุฐุฑ.</li>
          <li>ูพุงุฏูโุณุงุฒ ุณุณุชู ูุงฺฏ ุจุฑุง ุฑุฏุงุจ ุฑูุชุงุฑ ู ุฎุทุงูุง ุจุฑูุงูู.</li>
          <li>ุชุญูู ฺฉุฏุจุณ ููุฌูุฏ ู ุทุฑุงุญ ุณุฑูุณ ุจุงุฒ ุฌุฏุฏ ุจุง ูพุดุชุจุงู ุงุฒ ฺูุฏู ูฺฺฏ.</li>
          <li>ุจุงุฒููุณ APIูุง ุงุฒ NestJS ุจู ExpressJS ุจุฑุง ฺฉูพุงุฑฺูโุณุงุฒ ุจูุชุฑ.</li>
        </ul>
      </article>

      <article>
        <h3>ุณุฑูุณ ุจุงุฒ โ ุชูุณุนูโุฏููุฏู ุจฺฉโุงูุฏ (ุงุณุชูุฏู ุฏุงฺฉู)</h3>
        <ul>
          <li>ุทุฑุงุญ ู ุณุงุฎุช ุณุฑูุณ ฺุช ุจุง ุงุณุชูุงุฏู ุงุฒ ExpressJS ู PostgreSQL ุจุง ูพุดุชุจุงู WebSocket ุจุฑุง ุงุฑุชุจุงุทุงุช ุจูุงุฏุฑูฺฏ.</li>
          <li>ูพุงุฏูโุณุงุฒ ูพุงูโุฑุณุงู ุฎุตูุตุ ูุฏุฑุช ุฏูุณุชุงู ู ฺฏุฑููโูุง.</li>
          <li>ุขูุงุฏูโุณุงุฒ ุฒุฑุณุงุฎุช ุจุฑุง ูฺฺฏโูุง matchmaking ู ูุฑูุดฺฏุงู ุฏุฑูู ุจุงุฒ.</li>
        </ul>
      </article>

      <article>
        <h3>ุณูุงุฑุด ุจุงุฒ โ ุชูุณุนูโุฏููุฏู ุจฺฉโุงูุฏ</h3>
        <ul>
          <li>ุณุงุฎุช ุจฺฉโุงูุฏ ุจุฑุง ูุฏุฑุช ุณูุงุฑุดุงุช ุจุงุฒ ุจุง ุงุณุชูุงุฏู ุงุฒ FastAPI.</li>
          <li>ูพุงุฏูโุณุงุฒ endpointูุง RESTุ ุงุญุฑุงุฒ ููุช ู ูุฏุฑุช ฺฉุงุฑุจุฑุงู.</li>
          <li>ุงุณุชูุงุฏู ุงุฒ Pydantic ุจุฑุง ุงุนุชุจุงุฑุณูุฌุ SQLAlchemy ุจุฑุง ุฏุชุงุจุณุ Redis ุจุฑุง ฺฉุด ู sessionูุง.</li>
          <li>ุงุนูุงู ุงุญุฑุงุฒ ููุช ูุจุชู ุจุฑ JWT ู ุงุฌุงุฏ ุงุณฺฉุฑูพุชโูุง ุฏุงุฏู ุชุณุช.</li>
          <li>ูุฎุฒู: <a href="https://github.com/Ehsan-M330/game-order">github.com/Ehsan-M330/game-order</a></li>
          <li>ุชฺฉููููฺโูุง: FastAPI, PostgreSQL, Redis, Docker, Alembic</li>
        </ul>
      </article>

      <article>
        <h3>ุจุฑูุงููโููุณ ุฑูุงุจุช</h3>
        <p>ุนุถู ุชู โ ุดุฑฺฉุช ุฏุฑ ุฏูุฑูุง ููุทููโุง (2024ุ 2025).</p>
      </article>
    </section>

    <section id="education">
      <h2>ุชุญุตูุงุช</h2>
      <p>ฺฉุงุฑุดูุงุณ ูููุฏุณ ฺฉุงููพูุชุฑ โ ุฏุงูุดฺฏุงู ุดูุฏ ฺูุฑุงู ุงููุงุฒ (1400โุงฺฉููู)</p>
    </section>

    <section id="contact-form">
      <h2>ุฏุฑุฎูุงุณุช ูพุฑูฺู</h2>
      <p style="margin-bottom: 20px; color: var(--muted);">ุงฺฏุฑ ุนูุงููโููุฏ ุจู ููฺฉุงุฑ ูุณุชุฏุ ูุทูุงู ูุฑู ุฒุฑ ุฑุง ูพุฑ ฺฉูุฏ:</p>
      <form id="project-request-form">
        <div class="form-group">
          <label for="name">ูุงู ู ูุงู ุฎุงููุงุฏฺฏ *</label>
          <input type="text" id="name" name="name" required>
        </div>
        <div class="form-group">
          <label for="email">ุงูู *</label>
          <input type="email" id="email" name="email" required>
        </div>
        <div class="form-group">
          <label for="phone">ุดูุงุฑู ุชูุงุณ</label>
          <input type="tel" id="phone" name="phone" placeholder="+98 912 345 6789">
        </div>
        <div class="form-group">
          <label for="project-type">ููุน ูพุฑูฺู</label>
          <select id="project-type" name="project_type">
            <option value="">ุงูุชุฎุงุจ ฺฉูุฏ...</option>
            <option value="web-development">ุชูุณุนู ูุจ</option>
            <option value="api-development">ุชูุณุนู API</option>
            <option value="backend-service">ุณุฑูุณ ุจฺฉโุงูุฏ</option>
            <option value="database-design">ุทุฑุงุญ ุฏุชุงุจุณ</option>
            <option value="other">ุณุงุฑ</option>
          </select>
        </div>
        <div class="form-group">
          <label for="budget-range">ูุญุฏูุฏู ุจูุฏุฌู</label>
          <select id="budget-range" name="budget_range">
            <option value="">ุงูุชุฎุงุจ ฺฉูุฏ...</option>
            <option value="under-500">ุฒุฑ 500 ุฏูุงุฑ</option>
            <option value="500-1000">500 ุชุง 1,000 ุฏูุงุฑ</option>
            <option value="1000-5000">1,000 ุชุง 5,000 ุฏูุงุฑ</option>
            <option value="5000-10000">5,000 ุชุง 10,000 ุฏูุงุฑ</option>
            <option value="over-10000">ุจุงูุง 10,000 ุฏูุงุฑ</option>
          </select>
        </div>
        <div class="form-group">
          <label for="timeline">ุฒูุงูุจูุฏ</label>
          <select id="timeline" name="timeline">
            <option value="">ุงูุชุฎุงุจ ฺฉูุฏ...</option>
            <option value="asap">ูุฑฺู ุณุฑุนโุชุฑ</option>
            <option value="1-month">ุธุฑู 1 ูุงู</option>
            <option value="2-3-months">2 ุชุง 3 ูุงู</option>
            <option value="3-6-months">3 ุชุง 6 ูุงู</option>
            <option value="flexible">ุงูุนุทุงูโูพุฐุฑ</option>
          </select>
        </div>
        <div class="form-group">
          <label for="project-description">ุชูุถุญุงุช ูพุฑูฺู *</label>
          <textarea id="project-description" name="project_description" rows="5" required placeholder="ูุทูุงู ุฌุฒุฆุงุช ูพุฑูฺู ุฎูุฏ ุฑุง ุดุฑุญ ุฏูุฏ..."></textarea>
        </div>
        <button type="submit">ุงุฑุณุงู ุฏุฑุฎูุงุณุช</button>
        <div id="form-message" style="margin-top: 15px; font-weight: 600;"></div>
      </form>
    </section>
  </main>

  <footer>
    <p>ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู: 1403/08/10</p>
  </footer>

  <script>
    // WebSocket connection for online users
    const WS_BASE_URL = window.CONFIG?.WS_BASE_URL || 'ws://localhost:8000';
    const API_BASE_URL = window.CONFIG?.API_BASE_URL || 'http://localhost:8000';
    let ws = null;
    
    function connectWebSocket() {
      try {
        ws = new WebSocket(`${WS_BASE_URL}/ws/online-users`);
        
        ws.onopen = () => {
          console.log('WebSocket connected');
        };
        
        ws.onmessage = (event) => {
          const data = JSON.parse(event.data);
          document.getElementById('online-count').textContent = data.count;
        };
        
        ws.onerror = (error) => {
          console.error('WebSocket error:', error);
        };
        
        ws.onclose = () => {
          console.log('WebSocket disconnected, reconnecting...');
          setTimeout(connectWebSocket, 3000);
        };
      } catch (error) {
        console.error('Failed to connect WebSocket:', error);
        setTimeout(connectWebSocket, 3000);
      }
    }
    
    // Connect on page load
    connectWebSocket();
    
    // Form submission
    document.getElementById('project-request-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const formData = {
        name: document.getElementById('name').value.trim(),
        email: document.getElementById('email').value.trim(),
        phone: document.getElementById('phone').value.trim() || null,
        project_type: document.getElementById('project-type').value || null,
        budget_range: document.getElementById('budget-range').value || null,
        timeline: document.getElementById('timeline').value || null,
        project_description: document.getElementById('project-description').value.trim()
      };
      
      const messageDiv = document.getElementById('form-message');
      messageDiv.textContent = 'ุฏุฑ ุญุงู ุงุฑุณุงู...';
      messageDiv.style.color = '#667eea';
      
      try {
        const response = await fetch(`${API_BASE_URL}/api/project-request`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(formData)
        });
        
        if (response.ok) {
          messageDiv.textContent = 'โ ุฏุฑุฎูุงุณุช ุดูุง ุจุง ููููุช ุซุจุช ุดุฏ!';
          messageDiv.style.color = '#27ae60';
          document.getElementById('project-request-form').reset();
        } else {
          const error = await response.json();
          messageDiv.textContent = 'โ ุฎุทุง: ' + (error.detail || 'ุงุฑุณุงู ุฏุฑุฎูุงุณุช ุจุง ูุดฺฉู ููุงุฌู ุดุฏ');
          messageDiv.style.color = '#e74c3c';
        }
      } catch (error) {
        messageDiv.textContent = 'โ ุฎุทุง: ุงูฺฉุงู ุงุชุตุงู ุจู ุณุฑูุฑ ูุฌูุฏ ูุฏุงุฑุฏ. ูุทูุงู ูุทูุฆู ุดูุฏ ฺฉู ุณุฑูุฑ ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช.';
        messageDiv.style.color = '#e74c3c';
        console.error('Form submission error:', error);
      }
    });
    
    // Cleanup on page unload
    window.addEventListener('beforeunload', () => {
      if (ws) {
        ws.close();
      }
    });
  </script>
</body>
</html>

